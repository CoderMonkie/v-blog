(window.webpackJsonp=window.webpackJsonp||[]).push([[47],{174:function(e,n,a){"use strict";a.r(n);var t=a(4),v=Object(t.a)({},(function(){var e=this,n=e.$createElement,a=e._self._c||n;return a("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[a("h1",{attrs:{id:"关于npm包管理器最常用的内容都在这儿了"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#关于npm包管理器最常用的内容都在这儿了"}},[e._v("#")]),e._v(" 关于npm包管理器最常用的内容都在这儿了")]),e._v(" "),a("hr"),e._v(" "),a("p",[a("a",{attrs:{href:"https://nodejs.org/zh-cn/",target:"_blank",rel:"noopener noreferrer"}},[a("em",[e._v("Nodejs")]),a("OutboundLink")],1),e._v("的诞生，给前端开发世界带来了翻天覆地的变化。"),a("br"),e._v("\n前端工程化，各种工具，以及向后端的能力扩展。")]),e._v(" "),a("p",[e._v("车子离不开轮子，node（前后端）开发离不开"),a("em",[e._v("npm")]),e._v("这个包管理工具，在这总结下常用配套工具：")]),e._v(" "),a("ul",[a("li",[a("a",{attrs:{href:"#npm"}},[e._v("npm")])]),e._v(" "),a("li",[a("a",{attrs:{href:"#nrm"}},[e._v("nrm")])]),e._v(" "),a("li",[a("a",{attrs:{href:"#nvm"}},[e._v("nvm")])])]),e._v(" "),a("hr"),e._v(" "),a("h2",{attrs:{id:"npm"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#npm"}},[e._v("#")]),e._v(" "),a("a",{attrs:{href:"#npm"}},[e._v("npm")])]),e._v(" "),a("p",[e._v("安装"),a("em",[e._v("Nodejs")]),e._v("会自带 "),a("em",[e._v("npm")]),e._v("，这个默认的包管理器。")]),e._v(" "),a("p",[e._v("常用的基本命令有")]),e._v(" "),a("ul",[a("li",[e._v("初始化，建立工程（主要体现在生成一个"),a("em",[e._v("package.json")]),e._v("的文件）")])]),e._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v("npm init\n")])])]),a("ul",[a("li",[a("p",[e._v("安装包\n如果是"),a("em",[e._v("clone")]),e._v("一个已有工程，下到本地第一步自然是安装所有的依赖包了。")]),e._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v("npm install\n// 简写：\nnpm i\n")])])]),a("p",[e._v("如果要全局安装一个包，")]),e._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v("npm install -global <packagename>\n// 或简写\nnpm i -g <packagename>\n")])])]),a("p",[e._v("如果是局部安装，只在本项目工程内使用，有"),a("em",[e._v("开发依赖")]),e._v("与"),a("em",[e._v("生产依赖")]),e._v("之分")]),e._v(" "),a("ul",[a("li",[e._v("生产依赖（安装完会被添加到"),a("em",[e._v("package.json")]),e._v("文件的"),a("em",[e._v("dependencies")]),e._v("）")])]),e._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v("npm install --save <packagename>\n// 或简写：\nnpm i -S <packagename>\n")])])]),a("ul",[a("li",[e._v("开发依赖（安装完会被添加到"),a("em",[e._v("package.json")]),e._v("文件的"),a("em",[e._v("devDependencies")]),e._v("）")])]),e._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v("npm install --save-dev <packagename>\n// 或简写：\nnpm i -D <packagename>\n")])])])]),e._v(" "),a("li",[a("p",[e._v("执行命令\n除了初始化和安装包，最常用的要数"),a("code",[e._v("npm run <commandname>")]),e._v("了。"),a("br"),e._v("\n即执行命令任务。")]),e._v(" "),a("p",[e._v("都可以执行什么呢？"),a("br"),e._v("\n可执行的命令任务都配置在了"),a("em",[e._v("package.json")]),e._v("文件的"),a("code",[e._v("scripts")]),e._v("下。"),a("br"),e._v("\n初始化完成后往往都是有一个默认的"),a("code",[e._v("test")]),e._v("命令。"),a("br"),e._v("\n类似的，我们可以在这里添加自己的任务内容。")]),e._v(" "),a("p",[e._v("比如：")]),e._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v('"scripts": {\n  "start": "webpack-dev-server --open",\n  "lint": "eslint --ext .js,.vue src",\n  "build": "node build/build.js",\n},\n')])])]),a("p",[e._v("以上配置中，键值对中的键名自己随便起，后面的值，就根据你装的对应的包来了，"),a("br"),e._v("\n如"),a("em",[e._v("webpack-dev-server")]),e._v("就是方便前端开发用的模拟接口用的服务器，"),a("br"),e._v(" "),a("em",[e._v("eslint")]),e._v("是语法检查排错的工具。"),a("br"),e._v("\n在后面的就是传的参数了。")]),e._v(" "),a("p",[e._v("特别的一点是，"),a("code",[e._v("npm start")]),e._v("是默认就有的一个命令，\n其实就是它可以省略"),a("code",[e._v("run")]),e._v("而已，"),a("br"),e._v("\n执行的还是"),a("code",[e._v("npm run start")]),e._v("。")])]),e._v(" "),a("li",[a("p",[e._v("补充：\n国内访问国外的npm服务器来安装的话，网速缓慢，经常会出现安装失败的情况。"),a("br"),e._v("\n往往都是用"),a("a",{attrs:{href:"http://npm.taobao.org/",target:"_blank",rel:"noopener noreferrer"}},[e._v("淘宝 NPM 镜像"),a("OutboundLink")],1),a("code",[e._v("cnpm")]),e._v("来安装。")]),e._v(" "),a("ul",[a("li",[e._v("首先全局安装"),a("em",[e._v("cnpm")])])]),e._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v("npm install -g cnpm --registry=https://registry.npm.taobao.org\n")])])]),a("ul",[a("li",[e._v("这样就可以使用"),a("code",[e._v("cnpm")]),e._v("来安装各种依赖包了"),a("br"),e._v("\n只是把"),a("code",[e._v("npm")]),e._v("换成"),a("code",[e._v("cnpm")]),e._v("而已，其它install用法完全一样。")])]),e._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v("cnpm install <packagename>\n")])])]),a("p",[e._v("这样，包安装就快多了，基本不可能安装失败。"),a("br"),e._v("\n另外，不能一个包用npm装，一个包就cnpm装，反正我试的时候要删掉"),a("code",[e._v("node_modules")]),e._v("文件夹重新用同一源安装。")])])]),e._v(" "),a("hr"),e._v(" "),a("h2",{attrs:{id:"nrm"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#nrm"}},[e._v("#")]),e._v(" "),a("a",{attrs:{href:"#nrm"}},[e._v("nrm")])]),e._v(" "),a("p",[e._v("上面说到了"),a("code",[e._v("cnpm")]),e._v("，改用访问淘宝NPM镜像，这是一种方式。")]),e._v(" "),a("p",[e._v("还有很多另外的源，nrm是统一管理的工具，可以一键切换npm包安装源。")]),e._v(" "),a("ul",[a("li",[a("p",[e._v("全局安装"),a("em",[e._v("nrm")])]),e._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v("npm install -g nrm\n")])])])]),e._v(" "),a("li",[a("p",[e._v("查看源")]),e._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[e._v("nrm "),a("span",{pre:!0,attrs:{class:"token function"}},[e._v("ls")]),e._v("\n")])])]),a("p",[e._v("显示源列表：")]),e._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v("* npm ---- https://registry.npmjs.org/\n  cnpm --- http://r.cnpmjs.org/\n  taobao - https://registry.npm.taobao.org/\n  nj ----- https://registry.nodejitsu.com/\n  npmMirror  https://skimdb.npmjs.com/registry/\n  edunpm - http://registry.enpmjs.org/\n")])])]),a("p",[e._v("带星号"),a("code",[e._v("*")]),e._v("的就是当前使用的源，也可以用一下命令查看：")]),e._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v("nrm current\n\n// => 显示 npm\n")])])])]),e._v(" "),a("li",[a("p",[e._v("切换源")]),e._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v("nrm use <originname>\n")])])]),a("p",[e._v("如：")]),e._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v("nrm use cnpm\n\n// 显示：\nRegistry has been set to: http://r.cnpmjs.org/\n")])])]),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v("nrm current\n\n// 显示：\ncnpm\n")])])])])]),e._v(" "),a("blockquote",[a("p",[e._v("注意："),a("br"),e._v("\n这里的"),a("em",[e._v("cnpm")]),e._v("与上面提到的"),a("em",[e._v("cnpm")]),e._v("不是一回事儿。")])]),e._v(" "),a("p",[e._v("这里的cnpm只是给npm切换源，上面的cnpm是单独一个安装工具，除了没有"),a("code",[e._v("npm publish")]),e._v(",其它都跟npm一样。")]),e._v(" "),a("hr"),e._v(" "),a("h2",{attrs:{id:"nvm"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#nvm"}},[e._v("#")]),e._v(" "),a("a",{attrs:{href:"#nvm"}},[e._v("nvm")])]),e._v(" "),a("blockquote",[a("p",[e._v("安装了"),a("em",[e._v("node")]),e._v("，就是此时最新的版本。"),a("br"),e._v("\n如果要参与的是已有老项目，可能会版本不匹配，环境有问题，"),a("br"),e._v("\n这时候要重新安装一个旧版本的吗？"),a("br"),e._v("\n再做新项目的时候又再卸载重新安装新版本吗？")])]),e._v(" "),a("p",[e._v("那样多麻烦。当然有简便的办法了，那就是"),a("code",[e._v("nvm")]),e._v("，node多版本管理工具。")]),e._v(" "),a("ul",[a("li",[a("p",[e._v("下载并安装\n"),a("a",{attrs:{href:"https://github.com/coreybutler/nvm-windows/releases",target:"_blank",rel:"noopener noreferrer"}},[e._v("nvm-windows released-in-Github"),a("OutboundLink")],1)])]),e._v(" "),a("li",[a("p",[e._v("查看已安装node版本")]),e._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v("nvm ls\n\n// 显示：\n* 10.15.3 (Currently using 64-bit executable)\n  8.15.1\n")])])]),a("p",[e._v("即当前使用版本为"),a("em",[e._v("10.15.3")]),e._v("，本机安装了两个版本的node了，另一个是"),a("em",[e._v("8.15.1")]),a("br"),e._v("\n可以通过"),a("code",[e._v("nvm use [version]")]),e._v("来切换版本")])]),e._v(" "),a("li",[a("p",[e._v("切换版本")]),e._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v("nvm use 8.15.1\n\n// 显示：\nNow using node v8.15.1 (64-bit)\n")])])]),a("p",[e._v("很显然，安装的有点旧了，最新的LTS版本都到"),a("em",[e._v("12.13.0")]),e._v("了，"),a("br"),e._v("\n怎么安装最新版呢？")]),e._v(" "),a("ul",[a("li",[e._v("添加新的node版本\n查看已发布的可用版本：")])]),e._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v("nvm ls avilable\n")])])]),a("p",[e._v("输出显示：")]),e._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v("|   CURRENT    |     LTS      |  OLD STABLE  | OLD UNSTABLE |\n|--------------|--------------|--------------|--------------|\n|    13.0.1    |   12.13.0    |   0.12.18    |   0.11.16    |\n|    13.0.0    |   10.17.0    |   0.12.17    |   0.11.15    |\n|   12.12.0    |   10.16.3    |   0.12.16    |   0.11.14    |\n|   12.11.1    |   10.16.2    |   0.12.15    |   0.11.13    |\n|   12.11.0    |   10.16.1    |   0.12.14    |   0.11.12    |\n|   12.10.0    |   10.16.0    |   0.12.13    |   0.11.11    |\n|    12.9.1    |   10.15.3    |   0.12.12    |   0.11.10    |\n|    12.9.0    |   10.15.2    |   0.12.11    |    0.11.9    |\n|    12.8.1    |   10.15.1    |   0.12.10    |    0.11.8    |\n|    12.8.0    |   10.15.0    |    0.12.9    |    0.11.7    |\n|    12.7.0    |   10.14.2    |    0.12.8    |    0.11.6    |\n|    12.6.0    |   10.14.1    |    0.12.7    |    0.11.5    |\n|    12.5.0    |   10.14.0    |    0.12.6    |    0.11.4    |\n|    12.4.0    |   10.13.0    |    0.12.5    |    0.11.3    |\n|    12.3.1    |    8.16.2    |    0.12.4    |    0.11.2    |\n|    12.3.0    |    8.16.1    |    0.12.3    |    0.11.1    |\n|    12.2.0    |    8.16.0    |    0.12.2    |    0.11.0    |\n|    12.1.0    |    8.15.1    |    0.12.1    |    0.9.12    |\n|    12.0.0    |    8.15.0    |    0.12.0    |    0.9.11    |\n|   11.15.0    |    8.14.1    |   0.10.48    |    0.9.10    |\n\nThis is a partial list. For a complete list, visit https://nodejs.org/download/  release\n")])])]),a("p",[e._v("我们来安装一下"),a("em",[e._v("12.13.0")]),e._v("吧")]),e._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v("nvm install 12.13.0    \n")])])]),a("p",[e._v("输出显示：")]),e._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v("Downloading node.js version 12.13.0 (64-bit)...\nComplete\nCreating C:\\nvm\\temp\n\nDownloading npm version 6.12.0... Complete\nInstalling npm v6.12.0...\n\nInstallation complete. If you want to use this version, type\n\nnvm use 12.13.0\n")])])]),a("p",[e._v("告诉我们安装完成，如果要使用这个版本的话就敲入这个命令（"),a("em",[e._v("nvm use 12.13.0")]),e._v("）。"),a("br"),e._v("\n你会发现，安装最新"),a("em",[e._v("node")]),e._v("的时候，"),a("em",[e._v("npm")]),e._v("也是配套更新的。")])])]),e._v(" "),a("hr"),e._v(" "),a("h2",{attrs:{id:"其实还有一个：npx"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#其实还有一个：npx"}},[e._v("#")]),e._v(" 其实还有一个："),a("a",{attrs:{href:"#%E5%85%B6%E5%AE%9E%E8%BF%98%E6%9C%89%E4%B8%80%E4%B8%AAnpx"}},[a("code",[e._v("npx")])])]),e._v(" "),a("p",[e._v("它的主要特点是，可以让我们直接使用一些包的命令，"),a("br"),e._v("\n不用关心有没有已经安装，因为它检查到没有就会先来安装。")]),e._v(" "),a("p",[e._v("还可以配参数来指定强制安装最新还是使用本地已有。")]),e._v(" "),a("p",[e._v("另外就是临时安装，用完即删，下次npx的时候还会安装。")]),e._v(" "),a("p",[e._v("它还提供类似"),a("em",[e._v("nvm")]),e._v("的功能，供临时切换"),a("em",[e._v("node")]),e._v("版本。")]),e._v(" "),a("p",[e._v("这个我倒是没怎么使用。")]),e._v(" "),a("p",[e._v("与"),a("em",[e._v("npm")]),e._v("相对的还有一个"),a("code",[e._v("yarn")]),e._v("，在下一篇里再做介绍和总结吧。")])])}),[],!1,null,null,null);n.default=v.exports}}]);